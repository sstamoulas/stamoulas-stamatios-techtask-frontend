import React, { useState, useEffect } from 'react'

const CustomLoader = () => {
  const [opacity, setOpacity] = useState(0)

  useEffect(() => {
    const interval = setInterval(() => {
      if(opacity >= 1) {
        setOpacity(0)
      }
      else {
        setOpacity(opacity + 0.05)
      }
    }, 50)

    return () => clearInterval(interval)
  }, [opacity])

  return (
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      viewBox="0 0 500 500"
      style={{height: '50vh', width: '50vw', display: 'block', margin: '10% auto'}}
    >
      <path d="M100 250 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.95) % 1}`}} />
      <path d="M106 208 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.90) % 1}`}} />
      <path d="M130 160 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.85) % 1}`}} />
      <path d="M160 130 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.80) % 1}`}} />
      <path d="M208 106 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.75) % 1}`}} />
      <path d="M250 100 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.70) % 1}`}} />
      <path d="M292 106 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.65) % 1}`}} />
      <path d="M340 130 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.60) % 1}`}} />
      <path d="M370 160 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.55) % 1}`}} />
      <path d="M394 208 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.50) % 1}`}} />
      <path d="M400 250 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.45) % 1}`}} />
      <path d="M394 292 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.40) % 1}`}} />      
      <path d="M370 340 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.35) % 1}`}} />
      <path d="M340 370 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.30) % 1}`}} />
      <path d="M292 394 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.25) % 1}`}} />
      <path d="M250 400 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.20) % 1}`}} />
      <path d="M208 394 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.15) % 1}`}} />
      <path d="M160 370 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.10) % 1}`}} />
      <path d="M130 340 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.05) % 1}`}} />
      <path d="M106 292 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" style={{opacity: `${(opacity + 0.00) % 1}`}} />

      <text x="50%" y="50%" textAnchor="middle" stroke="#000" strokeWidth="2px" dy=".5em" style={{fontSize: '40px'}}>Loading</text>
      <text x={`${65 + (opacity <= .3 ? 1 : opacity <= .6 ? 2 : 3)}%`} y="50%" textAnchor="middle" stroke="#000" strokeWidth="2px" dy=".5em" style={{fontSize: '40px'}}>
        {opacity === 0 ? '' : opacity <= .3 ? '.' : opacity <= .6 ? '..' : '...'}
      </text>
    </svg>
  )
}

export default CustomLoader
