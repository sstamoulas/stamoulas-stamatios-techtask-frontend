(this["webpackJsonpload-smile-task"]=this["webpackJsonpload-smile-task"]||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),i=n.n(r),l=n(10),s=n(52),o=n.n(s),u=n(53),E=function(){var e=Object(a.useState)(0),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=setInterval((function(){r(n>=1?0:n+.05)}),50);return function(){return clearInterval(e)}}),[n]),c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500",style:{height:"50vh",width:"50vw",display:"block",margin:"10% auto"}},c.a.createElement("path",{d:"M100 250 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.95)%1)}}),c.a.createElement("path",{d:"M106 208 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.9)%1)}}),c.a.createElement("path",{d:"M130 160 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.85)%1)}}),c.a.createElement("path",{d:"M160 130 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.8)%1)}}),c.a.createElement("path",{d:"M208 106 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.75)%1)}}),c.a.createElement("path",{d:"M250 100 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.7)%1)}}),c.a.createElement("path",{d:"M292 106 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.65)%1)}}),c.a.createElement("path",{d:"M340 130 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.6)%1)}}),c.a.createElement("path",{d:"M370 160 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.55)%1)}}),c.a.createElement("path",{d:"M394 208 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.5)%1)}}),c.a.createElement("path",{d:"M400 250 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.45)%1)}}),c.a.createElement("path",{d:"M394 292 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.4)%1)}}),c.a.createElement("path",{d:"M370 340 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.35)%1)}}),c.a.createElement("path",{d:"M340 370 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.3)%1)}}),c.a.createElement("path",{d:"M292 394 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.25)%1)}}),c.a.createElement("path",{d:"M250 400 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.2)%1)}}),c.a.createElement("path",{d:"M208 394 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.15)%1)}}),c.a.createElement("path",{d:"M160 370 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.1)%1)}}),c.a.createElement("path",{d:"M130 340 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+.05)%1)}}),c.a.createElement("path",{d:"M106 292 l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z",style:{opacity:"".concat((n+0)%1)}}),c.a.createElement("text",{x:"50%",y:"50%",textAnchor:"middle",stroke:"#000",strokeWidth:"2px",dy:".5em",style:{fontSize:"40px"}},"Loading"),c.a.createElement("text",{x:"".concat(65+(n<=.3?1:n<=.6?2:3),"%"),y:"50%",textAnchor:"middle",stroke:"#000",strokeWidth:"2px",dy:".5em",style:{fontSize:"40px"}},0===n?"":n<=.3?".":n<=.6?"..":"..."))},p={UPDATE_MEAL_DATE:"UPDATE_MEAL_DATE"},d=function(e){var t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),"".concat(a,"-").concat(n,"-").concat(t)},m=(n(105),Object(l.b)((function(e){return{mealDate:e.mealDate.mealDate}}),(function(e){return{updateMealDate:function(t){return e(function(e){return{type:p.UPDATE_MEAL_DATE,payload:e}}(t))}}}))((function(e){var t=e.mealDate,n=e.updateMealDate;return c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"date"},"Meal Date:\xa0\xa0"),c.a.createElement("input",{type:"date",id:"date",value:d(t),onChange:function(e){return n(new Date(e.target.value))}}))}))),f=(n(106),function(e){var t=e.title;return c.a.createElement("div",{className:"flip-card-front"},c.a.createElement("div",null,t))}),h=(n(107),function(e){var t=e.ingredient;return c.a.createElement("li",{className:"card-list-item"},t)}),y=(n(108),function(e){var t=e.ingredients;return c.a.createElement("div",{className:"flip-card-back"},c.a.createElement("div",null,"Ingredients:"),c.a.createElement("ul",{className:"list-container"},t.map((function(e){return c.a.createElement(h,{key:e,ingredient:e})}))))}),T=(n(109),Object(l.b)((function(e){return{recipes:e.recipes.recipes}}))((function(e){var t=e.recipes;return c.a.createElement("div",{className:"card-container"},t?t.map((function(e,t){return c.a.createElement("div",{className:"flip-card",key:t},c.a.createElement("div",{className:"flip-card-inner"},c.a.createElement(f,{title:e.title}),c.a.createElement(y,{ingredients:e.ingredients})))})):c.a.createElement("div",null,"There are no recipes to display"))}))),S={FETCH_RECIPES_START:"FETCH_RECIPES_START",FETCH_RECIPES_SUCCESS:"FETCH_RECIPES_SUCCESS",FETCH_RECIPES_FAILURE:"FETCH_RECIPES_FAILURE"},v=function(e){return{type:S.FETCH_RECIPES_SUCCESS,payload:e}},g=(n(110),n(111),Object(l.b)((function(e){return{ingredients:e.ingredients.ingredients,mealDate:e.mealDate.mealDate,isFetching:e.recipes.isFetching,selectedIngredients:e.recipes.selectedIngredients}}),(function(e){return{fetchRecipesStart:function(t){return e(function(e){return{type:S.FETCH_RECIPES_START,payload:e}}(t))}}}))((function(e){var t=e.ingredients,n=e.mealDate,a=e.isFetching,r=e.selectedIngredients,i=e.fetchRecipesStart,l=t?t.filter((function(e){return e["use-by"]<=d(n)})).map((function(e){return e.title})):[];return a?c.a.createElement(E,null):c.a.createElement("div",{className:"container"},c.a.createElement("div",null,c.a.createElement(m,null),c.a.createElement("div",{className:"select-container"},c.a.createElement(o.a,{data:t,textField:"title",valueField:"title",disabled:l,defaultValue:r,onChange:function(e){return i(e.map((function(e){return e.title})))}})),c.a.createElement(T,null)))}))),_={FETCH_INGREDIENTS_START:"FETCH_INGREDIENTS_START",FETCH_INGREDIENTS_SUCCESS:"FETCH_INGREDIENTS_SUCCESS",FETCH_INGREDIENTS_FAILURE:"FETCH_INGREDIENTS_FAILURE"},I=function(e){return{type:_.FETCH_INGREDIENTS_SUCCESS,payload:e}},C=(n(112),Object(l.b)((function(e){return{isFetching:e.ingredients.isFetching}}),(function(e){return{fetchIngredientsStart:function(){return e({type:_.FETCH_INGREDIENTS_START})}}}))((function(e){var t=e.isFetching,n=e.fetchIngredientsStart,r=Object(a.useRef)(!1);return Object(a.useEffect)((function(){r.current||(n(),r.current=!0)}),[t,n]),r.current&&!t?c.a.createElement("div",{className:"App"},c.a.createElement(g,null)):c.a.createElement(E,null)}))),F=n(12),b=n(54),R=n(11),D={ingredients:null,isFetching:!1,errorMessage:void 0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.FETCH_INGREDIENTS_START:return Object(R.a)({},e,{isFetching:!0});case _.FETCH_INGREDIENTS_SUCCESS:return Object(R.a)({},e,{isFetching:!1,ingredients:t.payload});case _.FETCH_INGREDIENTS_FAILURE:return Object(R.a)({},e,{isFetching:!1,errorMessage:t.payload});default:return e}},j={mealDate:new Date},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.UPDATE_MEAL_DATE:return Object(R.a)({},e,{mealDate:t.payload});default:return e}},A={recipies:null,selectedIngredients:[],isFetching:!1,errorMessage:void 0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.FETCH_RECIPES_START:return Object(R.a)({},e,{isFetching:!0,selectedIngredients:t.payload});case S.FETCH_RECIPES_SUCCESS:return Object(R.a)({},e,{isFetching:!1,recipes:t.payload});case S.FETCH_RECIPES_FAILURE:return Object(R.a)({},e,{isFetching:!1,errorMessage:t.payload});default:return e}},O=Object(F.c)({ingredients:N,mealDate:x,recipes:M}),w=n(7),H=n.n(w),z=n(6),k=H.a.mark(G),U=H.a.mark(L),P=function(e){return fetch(e).then((function(e){if(e.ok)return e.json();throw new Error(e.status)}))};function G(){var e,t;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat("https://lb7u7svcm5.execute-api.ap-southeast-1.amazonaws.com/dev","/ingredients"),n.prev=1,n.next=4,Object(z.b)(P,e);case 4:return t=n.sent,n.next=7,Object(z.c)(I(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(z.c)((a=n.t0.message,{type:_.FETCH_INGREDIENTS_FAILURE,payload:a}));case 13:case"end":return n.stop()}var a}),k,null,[[1,9]])}function L(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)("FETCH_INGREDIENTS_START",G);case 2:case"end":return e.stop()}}),U)}var B=H.a.mark(V),J=H.a.mark(Y),W=function(e){return fetch(e).then((function(e){if(e.ok)return e.json();throw new Error(e.status)}))};function V(){var e,t,n,a,c;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(z.d)();case 2:return e=r.sent,t=e.recipes.selectedIngredients,n="".concat("https://lb7u7svcm5.execute-api.ap-southeast-1.amazonaws.com/dev","/recipes?ingredients="),r.prev=5,a=t.join(","),r.next=9,Object(z.b)(W,"".concat(n).concat(a));case 9:return c=r.sent,r.next=12,Object(z.c)(v(c));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(5),r.next=18,Object(z.c)((i=r.t0.message,{type:S.FETCH_RECIPES_FAILURE,payload:i}));case 18:case"end":return r.stop()}var i}),B,null,[[5,14]])}function Y(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)("FETCH_RECIPES_START",V);case 2:case"end":return e.stop()}}),J)}var q=H.a.mark(K);function K(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.a)([Object(z.b)(L),Object(z.b)(Y)]);case 2:case"end":return e.stop()}}),q)}var Q=Object(b.a)(),X=[Q],Z=Object(F.e)(O,F.a.apply(void 0,X));Q.run(K);n(114);i.a.render(c.a.createElement(l.a,{store:Z},c.a.createElement(C,null)),document.getElementById("root"))},55:function(e,t,n){e.exports=n(115)}},[[55,1,2]]]);
//# sourceMappingURL=main.a04216e5.chunk.js.map